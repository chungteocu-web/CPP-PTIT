#include <iostream>
#include <map>
#include <algorithm>
#include <vector>
#include <string>
#include <sstream>
using namespace std;
class Thuctap
{
private:
    string ma, ten;
    int so;

public:
    friend istream &operator>>(istream &in, Thuctap &a);
    friend ostream &operator<<(ostream &out, Thuctap &a);
    friend bool sosanh(const Thuctap &a, const Thuctap &b);
    friend bool check(const Thuctap &a, int c, int b);
};
istream &operator>>(istream &in, Thuctap &a)
{
    in >> a.ma;
    in.ignore();
    getline(in, a.ten);
    in >> a.so;
    return in;
}
ostream &operator<<(ostream &out, Thuctap &a)
{
    out << a.ma << " " << a.ten << " " << a.so << endl;
    return out;
}
bool sosanh(const Thuctap &a, const Thuctap &b)
{
    if (a.so == b.so)
        return a.ma < b.ma;
    else
        return a.so > b.so;
}
bool check(const Thuctap &a, int c, int b)
{
    if (c <= a.so && a.so <= b)
        return true;
    return false;
}
int main()
{
    int m, n;
    cin >> m;
    class Thuctap ds[m];
    for (int i = 0; i < m; i++)
    {
        cin >> ds[i];
    }
    sort(ds, ds + m, sosanh);
    cin >> n;
    while (n--)
    {
        int a, b;
        cin >> a >> b;
        cout << "DANH SACH DOANH NGHIEP NHAN TU " << a << " DEN " << b << " SINH VIEN:" << endl;
        for (int i = 0; i < m; i++)
        {
            if (check(ds[i], a, b))
                cout << ds[i];
        }
    }
}
